Improved CLI type safety with OutputData TypedDict and better type annotations throughout CLI handling.

